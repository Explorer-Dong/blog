---
title: 玩云服务的一些经验和心得
date: 2025-11-30 21:10
tags: [云服务]
index_img: https://cdn.dwj601.cn/images/20251130210905323.svg
---

提供自定义的服务真的是一件非常酷的事！

## 我的云服务

目前我的云服务架构：

![目前我的云服务架构 (made with drawio)](https://cdn.dwj601.cn/images/20251130210905323.svg)

对外提供的服务：

|       域名        |   定位   |       部署方案       |      备注      |
| :---------------: | :------: | :------------------: | :------------: |
|  `www.dwj601.cn`  | 个人门户 |     ECS + Nginx      | 其他服务的入口 |
| `blog.dwj601.cn`  | 生活博客 |    私有 OSS + CDN    |       -        |
| `wiki.dwj601.cn`  | 技术博客 |    私有 OSS + CDN    |       -        |
|  `cdn.dwj601.cn`  | 资源分发 |    私有 OSS + CDN    |       -        |
| `memos.dwj601.cn` |  备忘录  | ECS + Docker + Nginx |   暂时个人用   |

涉及到的计费类型：

| 产品                                                         | 计费方案                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| 域名 (Domain)                                                | 按年计费                                                     |
| 云服务器 (ECS)                                               | 机器按年计费、流量按量计费（0.8 元/GB）                      |
| 对象存储服务 ([OSS](https://www.aliyun.com/price/product#/oss/detail/oss)) | 存储 `*` 按年计费、外网流出流量 `*` 按量计费（白天 0.5 元/GB，凌晨 0.25 元/GB）、CDN 回源流出流量按量计费（0.15 元/GB） |
| 内容分发网络 ([CDN](https://www.aliyun.com/price/product#/cdn/detail/cdn)) | 流量 `*` 按量计费（大陆地区 0.24 元/GB，其他地区价格较高）、HTTPs 请求 `*` 按次计费（0.05 元/万次，每月有免费额度）、实时日志推送按量计费（0.01 元/万条） |
| 简单日志服务 ([SLS](https://www.aliyun.com/price/product#/sls/detail/sls)) | 流量按量计费（0.4 元/GB）、存储按量计费（存 30 天免费）      |

*注：

- 打 `*` 表示可买资源包，单价更低。至于是否购买，取决于具体的业务场景；
- 阿里云 CDN 的实时日志推送服务和 SLS 服务是绑定的（CDN 把日志实时推送给 SLS），所以想要监控阿里云 CDN，就不得不掏「实时日志推送」和「SLS」两份钱😡，经过我的分析，这个价格并不便宜。

## 部署方案选型

### 纯静态页面的服务

推荐「私有 OSS Bucket + CDN」的组合。

优势：

- 更快：显然的，因为利用了 CDN 分发；
- 更省：「CDN 本身的费用 + CDN 回源费用 + HTTPs 费用总和」都比「直接放 ECS」省钱，更别说「ECS + CDN」了；
- 更安全：CDN 可以很容易的配置 IP 黑名单以及流量控制。

劣势：

- 初始的配置比较麻烦。

### 带有后端的服务🤨

目前使用的是「直接基于 Nginx 代理」的方式。因为业务流量低，暂时没涉及到其他更高效的配置方案，涉及到了再来完善。
