name: blog CI/CD
on: [push]
permissions:
  contents: write
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      # ç›¸å½“äº git clone åˆ°æœåŠ¡å™¨
      - name: Checkout ğŸ›ï¸
        uses: actions/checkout@v4
        with:
          persist-credentials: false

      # å®‰è£…ä¾èµ–å¹¶ç”Ÿæˆé¡µé¢
      - name: Install and Build ğŸ”§
        run: |
          npm install -g hexo-cli --save
          npm install
          hexo generate

      # éƒ¨ç½²
      - name: Deploy ğŸš€
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          branch: gh-pages   # å­˜å‚¨ç«™ç‚¹çš„åˆ†æ”¯
          folder: public     # æ„å»ºå‡ºæ¥çš„å¾…éƒ¨ç½²çš„ç«™ç‚¹æ–‡ä»¶å¤¹åç§°
